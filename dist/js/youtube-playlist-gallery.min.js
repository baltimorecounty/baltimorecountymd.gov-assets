var baltimoreCounty=baltimoreCounty||{};baltimoreCounty.youtubePlaylistGallery=function(t){var e={target:".bc-youtube-playlist-gallery",templateSelector:"#youtube-playlist-item-template"},i=function(e){var i="//services.baltimorecountymd.gov/api/playlistgallery/"+e;return t.getJSON(i)},l=function(t){var e=[];if(t)for(var i=0;i<t.length;i++)if(t[i].snippet)try{var l={videoId:t[i].snippet.resourceId.videoId.toString(),videoTitle:t[i].snippet.title.toString(),thumbnailUrl:t[i].snippet.thumbnails.medium.url.toString(),isHidden:i>5};e.push(l)}catch(e){console.log("Incomplete data in the following snippet: "+JSON.stringify(t[i]))}return e},o=function(e,i,l){var o=t(l).html(),n=Handlebars.compile(o),r=n({youtubeItemInfo:e});return e.length>6&&(r+='<button type="button" class="contentButton loadMoreButton">LOAD MORE</button>'),r};return{init:function(n){n||(n=e);var r=t(n.target?n.target.trim():e.target),a=n.templateSelector?n.templateSelector:e.templateSelector,u=n.playlistId;if(0===r.length)throw'The "target" option value must be supplied. Please see documentation at https://goo.gl/HbhJ1p.';if(!u||0===u.length)throw'The "playlistId" option must be supplied. Please see documentation at https://goo.gl/HbhJ1p.';i(u).done(function(e){var i,n=l(e.items);i=n.length?o(n,r,a):'<div role="alert" class="alert-warning"><p>An error has occurred retreiving the videos from YouTube.</p></div>',r.html(i).find(".youtube-playlist-item p a").elliptical(),r.children(".loadMoreButton").first().on("click",function(e){var i=r.find(".hidden");if(i.length){i.slice(0,6).removeClass("hidden").find("p a").elliptical()}i.length<=6&&t(e.currentTarget).hide()})}).fail(function(t){console.log("Data load from YouTube failed. Response: "+JSON.stringify(t))})}}}(jQuery);