"use strict";function aTwoZ(){for(jQuery.fn.topLink=function(t){return t=jQuery.extend({min:1,fadeSpeed:200},t),this.each(function(){var e=$(this);e.hide(),$(window).scroll(function(){$(window).scrollTop()>=t.min?e.fadeIn(t.fadeSpeed):e.fadeOut(t.fadeSpeed)})})},$("#top-link").topLink({min:400,fadeSpeed:500}),i=0;i<alpha.length;i++)""!==$("h2 a[name^='"+alpha[i]+"']:first").text()?$("h2 a[name^='"+alpha[i]+"']:first").attr("id",alpha[i].toLowerCase()):$('a[href="#'+alpha[i].toLowerCase()+'"]').css("text-decoration","none").css("color","black").css("cursor","default");for(j=0;j<numberArr.length;j++)if(""!==$("h2 a[name^='"+numberArr[j]+"']:first").text()){$("h2 a[name^='"+numberArr[j]+"']:first").attr("id","number");break}}var xmldoc="/bin/k/f/agency.xml",contentDIV=$("#containertable");!function(t){t.uiTableFilter=function(e,i,a,r){var n=!1;if(this.last_phrase===i)return!1;var l=i.length,s=i.toLowerCase().split(" "),o=function(t){t.show()},c=function(t){t.hide(),n=!0},h=function(t){return t.text()};if(a){var d=null;if(e.find("thead > tr:last > th").each(function(e){if(t.trim(t(this).text())==a)return d=e,!1}),null==d)throw"given column: "+a+" not found";h=function(e){return t(e.find("td:eq("+d+")")).text()}}if(s.size>1&&i.substr(0,l-1)===this.last_phrase){if(" "===i[-1])return this.last_phrase=i,!1;var s=s[-1];o=function(t){};var u=e.find("tbody:first > tr:visible")}else{n=!0;var u=e.find("tbody:first > tr")}u.each(function(){var e=t(this);t.uiTableFilter.has_words(h(e),s,!1)?o(e):c(e)});var f=0;return t(".searchTable tr:visible").each(function(){f++}),0==f?t("#noresults").show():t("#noresults").hide(),last_phrase=i,r&&n&&r(),e},t.uiTableFilter.last_phrase="",t.uiTableFilter.has_words=function(t,e,i){for(var a=i?t:t.toLowerCase(),r=0;r<e.length;r++)if(-1===a.indexOf(e[r]))return!1;return!0}}(jQuery),$(document).ready(function(){$(function(){$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html,body").animate({scrollTop:t.offset().top},1e3),!1}})})});var i=0,alpha=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],numberArr=["0","1","2","3","4","5","6","7","8","9"];$(document).ready(function(){$("div.clearButton").html('<input type="button" name="clear" class="clear" value="Clear"/>'),$("#top-link").attr("href","#top"),$("ul.az a").each(function(){"0-9"==$(this).text()?$(this).attr("href","#number").attr("class","number"):$(this).attr("href","#"+$(this).text().toLowerCase()).attr("class",$(this).text().toLowerCase())});$("div.az").show(),$.ajax({type:"GET",url:xmldoc,dataType:"xml",success:function(t){var e="<table style='border-right-width: 0px; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px'";e+=" id='BACO_table' class='searchTable' border='0' width='100%'><thead><tr style='display:none'><th>Name</th><th>Contact</th></tr></thead>",$(t).find("agency").each(function(){var t=$(this).find("name").text(),a=$(this).find("desc").text(),r=$(this).find("agencyLink").text(),n=$(this).find("addr1").text(),l=$(this).find("addr2").text(),s=$(this).find("addr3").text(),o=$(this).find("supervisorTitle").text(),c=$(this).find("supervisorName").text(),h=$(this).find("phone").text(),d=$(this).find("email").text(),u=$(this).find("contactFormLink").text(),f=($(this).find("services").text(),""),p="",m="";e+="<tr><td style='white-space: normal' valign='top' width='70%' align='left'><h2>",e+="<a href='"+r+"' name='"+t+"' title='Learn more about "+t+"'>",e+=t+"</a></h2><div class='popularContain'><p class='links'><a href='#' class='desc selected'>Description</a>&nbsp;&nbsp;&nbsp;<a href='#' class='popular'>",e+="Most Popular Services</a></p><p class='desc'>"+a+"</p><div class='popularServices'>";var v=1,b=0;$(this).find("service").each(function(){""!==$(this).find("serviceName").text()&&b++});var w=b%3,x=parseInt(b/3),k=parseInt(b/3);parseInt(b/3);switch(w){case 1:x=parseInt(b/3+1);break;case 2:x=parseInt(b/3+1),k=parseInt(b/3+1)}$(this).find("service").each(function(){f=$(this).find("serviceName").text(),p=$(this).find("serviceLink").text(),m=$(this).find("serviceTitle").text(),""!==f&&(b<=9?(v<=3&&(1==v&&(e+="<ul class='col1 popularServices'>"),e+="<li><a href='"+p+"' title='Click here to go to "+m+"'>"+f+"</a></li>",3==v&&b>3&&(e+="</ul>")),v>=4&&v<7&&(4==v&&(e+="<ul class='col2 popularServices'>"),e+="<li><a href='"+p+"' title='Click here to go to "+m+"'>"+f+"</a></li>",6==v&&b>6&&(e+="</ul>")),v>=7&&v<10&&(7==v&&(e+="<ul class='col3 popularServices'>"),e+="<li><a href='"+p+"' title='Click here to go to "+m+"'>"+f+"</a></li>")):(v<=x&&(1==v&&(e+="<ul class='col1 popularServices'>"),e+="<li><a href='"+p+"' title='Click here to go to "+m+"'>"+f+"</a></li>",v==x&&(e+="</ul>")),v>x&&v<=x+k&&(v==x+1&&(e+="<ul class='col2 popularServices'>"),e+="<li><a href='"+p+"' title='Click here to go to "+m+"'>"+f+"</a></li>",v==x+k&&(e+="</ul>")),v>x+k&&(v==x+k+1&&(e+="<ul class='col3 popularServices'>"),e+="<li><a href='"+p+"' title='Click here to go to "+m+"'>"+f+"</a></li>")),v++)}),e+="</ul></div></td><td style='white-space: normal' valign='top' width='30%' align='left'><p><b>Contact Information</b></p>",""!==n&&(""===s?(e=e+""+n+"<br />"+l+"<br /><a href='http://www.mapquest.com/?daddr=",e=e+n+" "+l+"' class='directions'>Get Directions</a><br /></p>"):""!==s?(e=e+""+n+"<br />"+l+"<br />"+s+"<br /><a href='http://www.mapquest.com/?daddr=",e=e+n+" "+l+" "+s+"' class='directions'>Get Directions</a><br /></p>"):e+="</p>"),e=""!==o?e+"<p><strong>"+o+":</strong>&nbsp;"+c+"<br />"+h+"<br />":e+"<p>"+h+"<br />",""!=d?e=""!=u?e+"<a href='"+u+"' title='"+t+" Contact Form'>Contact Form</a></p>":e+"<a href='mailto:"+d+"' title='Email the Baltimore County "+t+"' >"+d+"</a></p>":e+="</p>",e+="</td>",e+="</tr>",i=0}),e+="</table>",$("#containertable").html(e),$("p.links").each(function(){null==$(this).parent().children("div.popularServices").children("ul.col1").html()&&$(this).parent().children("p.links").hide()}),aTwoZ(),$(document).on("click","input.clear",function(){$("#filter").val(""),""===$("#filter").val()&&$.uiTableFilter($("table.searchTable"),$("#filter").val())}),$(function(){var t=$("table.searchTable");t.find("tbody > tr").find("td:eq(1)").mousedown(function(){$(this).prev().find(":checkbox").click()}),$(document).on("keyup","#filter",function(){var e=$("ul.az");$.uiTableFilter(t,this.value),""===$("#filter").val()?e.fadeIn():e.fadeOut()}),$("#filter-form").submit(function(){return t.find("tbody > tr:visible > td:eq(1)").mousedown(),!1}).focus()})}}),$(document).on("click","#filter",function(){$("input#filter").val("").addClass("clicked")}),$("a.desc").css("color","black").css("text-decoration","none").css("font-weight","bold"),$(document).on("click","div.popularContain a.desc",function(t){t.preventDefault();var e=$(this),i=e.parent(),a=i.parent();a.children("p.desc").show(),a.children().children("ul").hide(),e.addClass("selected"),i.children("a.popular").removeClass("selected")}),$(document).on("click","div.popularContain a.popular",function(t){t.preventDefault();var e=$(this),i=e.parent(),a=i.parent();a.children().children("ul.popularServices").show(),a.children("p.desc").hide(),e.addClass("selected"),i.children("a.desc").removeClass("selected")})});