var icon=function(){var e={icon:{canceled:"fa-times",cancelled:"fa-times",closed:"fa-times",external:"fa-external-link",seewebsite:"fa-external-link",modified:"fa-exclamation-triangle",open:"fa-check",operating:"fa-check"},size:{extraSmall:"fa-1x icon-extra-small",small:"fa-2x icon-small",medium:"fa-3x icon-medium",large:"fa-4x icon-large",extraLarge:"fa-5x icon-extra-large"}};return function(a,n){return a=a.toLowerCase().replace(" ",""),a=e.icon[a]?a:"modified",'<i class="fa '+e.icon[a]+" "+e.size[n]+" icon-inline icon-"+a+'"></i>'}}(),getTodaysDate=function(){var e=["January","February","March","April","May","June","July","August","September","October","November","December"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],n=new Date,t=a[n.getDay()],r=n.getDate(),i=e[n.getMonth()],o=n.getFullYear();return t+", "+i+" "+r+", "+o};!function(e){var a=function(a){var n=e("#county-closings tbody"),t="<tr><td class='icon'>"+a.icon+"</td><td>"+a.status+"</td><td>"+a.link+"</td><td>"+a.message+"</td></tr>";n.append(t)},n=function(n){n.each(function(){var n=e(this),r={};n.remove(),r.link=n.find("a")[0].outerHTML;var i=n.html().split(r.link);r.status=t(i[0]),r.message=t(i[1]),r.icon=icon(r.status,"small"),a(r)})},t=function(a){return e.trim(a.replace(/(<(br|p|h1|h2|h3|strong)>|<\/(br|p|h1|h2|h3|strong)>)/g,"").replace(/<!--[^>]*-->/g,""))},r=function(){o(),i()},i=function(){var a=e(".status-image"),n=e(".county-closings-status-container p"),t=n[0].innerHTML.toLowerCase();n.eq(0).prepend("<strong>Status: </strong>"),a.replaceWith(icon(t,"extraLarge"))},o=function(){e(".todays-date").html("<p>"+getTodaysDate()+"</p>")};e(document).ready(function(){r();var a=e("#county-closings");a.hide(),n(e(".closings-data-snippet")),a.DataTable({info:!1,paging:!1,processing:!0,responsive:{details:{renderer:function(a,n){var t=a.cells(n,":hidden").eq(0).map(function(n){var t=e(a.column(n.column).header()),r=a.cell(n).index();if(t.hasClass("control")||t.hasClass("never"))return"";var i=a.settings()[0],o=i.oApi._fnGetCellData(i,r.row,r.column,"display"),s=t.text();return s&&(s+=":"),t[0].innerHTML?'<li data-dtr-index="'+r.column+'"><span class="dtr-title">'+s+'</span> <span class="dtr-data">'+o+"</span></li>":void 0}).toArray().join("");return!!t&&e('<ul data-dtr-index="'+n+'"/>').append(t)}}},autoWidth:!1,order:[[1,"asc"]],columnDefs:[{targets:0,orderable:!1},{targets:3,orderable:!1}],drawCallback:function(a){var n=this.api(),t=n.rows({page:"current"}).nodes(),r=null;n.column(1,{page:"current"}).data().each(function(a,n){e(t).eq(n).addClass(a.toLowerCase().replace(" ","-")),r!==a&&(r=a)})}}),a.show()})}(jQuery);