namespacer("baltimoreCounty.pageSpecific"),baltimoreCounty.pageSpecific.swiftypeSearchResults=function(e,t,r,n){function i(t,r){var i=r||1,u=t;"+"===u[u.length-1]&&(u=u.substr(0,u.length-1)),u=u.replace(/\+/g,"%20"),e.ajax(n.keywordSearch.urls.api+u+"/"+i).then(p,a)}function a(e){console.error(e)}function u(e){return{highlight:e.highlight.body||e.highlight.sections||e.highlight.title,title:e.title,url:e.url}}function s(e){for(var t=[],r=0,n=e.length;r<n;r+=1)t.push(u(e[r]));return t}function o(e,t){for(var r=[],n=1;n<=e;n+=1)r.push({page:n,current:n===t});return r}function l(e){return e.current_page*e.per_page<e.total_result_count?e.current_page*e.per_page:e.total_result_count}function c(e){return(e.current_page-1)*e.per_page+1}function g(t){var n=e(y).html();return r.compile(n)(t)}function p(e){var t=e.info.page,r=e.records.page,n=t.query,i=t.num_pages>10,a=i?10:t.num_pages,u=l(t),p=c(t),h=t.spelling_suggestion?t.spelling_suggestion.text:void 0,y=s(r),_=o(a,t.current_page);t.base_url=window.location.pathname+"?q="+t.query+"&page=",t.index={first:p,last:u};var m={searchResult:y,info:t,pageLinks:_,tooManyResults:i,spellingSuggestion:h,query:n},d=g(m);f.html(d),f.find(".loading").hide(),f.find(".search-results-display").show()}function h(){var r=t.getAsDictionary();f=e(".search-results"),r.q?i(r.q,r.page):f.html(_)}var f,y="#swiftype-search-results-template",_="<p>There were no results found for this search.</p>";return{init:h}}(jQuery,baltimoreCounty.utility.querystringer,Handlebars,baltimoreCounty.constants),$(function(){baltimoreCounty.pageSpecific.swiftypeSearchResults.init()});