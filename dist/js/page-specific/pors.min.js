function toTitleCase(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function categoryCheck(e,t,i,o,r,n){if(e==t)return n[i+"0"]=i,n[i+"1"]=o,n[i+"2"]=r,window[t+"Counter"]++,!1}function generateLink(e,t,i){$(e).closest(".question-container").hasClass(t)&&$("div.success").html("<p>Your report is qualified to file online.</p>&nbsp;<a href='"+i+"' class='startReport'>File a Report Now</a>").css("color","black")}function questionStringBuilder(e,t){if("basic"==t||$("div."+t).length>0&&"basic"!=t){rank=e;var i=window[t+"Array"],o=i[e+"1"],r=i[e+"2"].toLowerCase(),n="yes"===r,s="no"===r,a=!n&&!s,l=a?"class='noanswer nomotor' ":"";liString+=["<li class='question-container "+t+"'>","<p>"+o+"</p>","<div class='form-group form-group--inline'>","<input type='radio' "+(n?"class='correct' ":l)+"name='q"+rank+"' id='q-yes-"+rank+"' />","<label for='q-yes-"+rank+"'>Yes</label>","</div>","<div class='form-group form-group--inline'>","<input type='radio' "+(s?"class='correct' ":l)+"name='q"+rank+"' id='q-no-"+rank+"' />","<label for='q-no-"+rank+"'>No</label>","</div>","</li>"].join("")}}function generateQtip(e,t){var i;for(q=0;q<t.length;q++)i=t[q],e.indexOf(i)>-1&&$("li.active a."+i).qtip({content:{text:definition[i],title:{text:"Definition of "+toTitleCase(i),button:!0}},position:{at:"top right",my:"bottom left"},style:{width:"280px",classes:"ui-tooltip-dark"}})}function instrCheck(e,t){var i,o="",r="",n=e;for(k=0;k<t.length;k++)i=t[k],o=n.indexOf(i),r=n.substring(n.indexOf(i)).indexOf(" "),-1!=o&&(o>-1&&-1==r?n=n.substring(0,o)+"<a href='#"+i+"' class='tip "+i+"'>"+i+"</a>?":o>-1&&r>-1&&(r=n.substring(n.indexOf(i)).indexOf(" ")+o,n=n.substring(0,o)+"<a href='#"+i+"' class='tip "+i+"'>"+i+"</a>"+n.substring(r)));return n}var i=0,j=0,xmlLoc="/sebin/u/a/tru.xml",questionText="",questionRank="",questionAnswer="",questionType="",htmlString="",typeArray=["basic","hitandrun","destructionofproperty","lostproperty","abandonedvehicle","theft","shoplifting"],keywordArray=["graffiti","serial","bias"],liString="",link={precincts:"http://www.baltimorecountymd.gov/Agencies/police/precinctsall.html",start_report:"http://www.baltimorecountymd.gov/Redirect/externalwebsites/Coplogic/no-report-type.html",theft:{motor:"http://www.baltimorecountymd.gov/Redirect/externalwebsites/Coplogic/theftfromvehicleredirect.html",nomotor:"http://www.baltimorecountymd.gov/Redirect/externalwebsites/Coplogic/theftredirect.html",sepage:"http://www.baltimorecountymd.gov/Agencies/police/onlinereport/theft.html"},abandoned:"http://www.baltimorecountymd.gov/Redirect/externalwebsites/Coplogic/abandonedvehicleredirect.html",lost_property:"http://www.baltimorecountymd.gov/Redirect/externalwebsites/Coplogic/lostpropertyredirect.html",des_of_property:{motor:"http://www.baltimorecountymd.gov/Redirect/externalwebsites/Coplogic/destructionpropertyvehicleredirect.html",nomotor:"http://www.baltimorecountymd.gov/Redirect/externalwebsites/Coplogic/destructionpropertyredirect.html"},hit_and_run:"http://www.baltimorecountymd.gov/Redirect/externalwebsites/Coplogic/hitandrunredirect.html",shop_lifting:"http://www.baltimorecountymd.gov/Redirect/externalwebsites/Coplogic/startreport.html"},definition={bias:"A reported act which appears to be motivated, or perceived by the victim to be motivated, all or in part, by <strong><em>Disability, Ethnic, Gender, Homeless, Racial, Religious, or Sexual Orientation</em></strong>. To be considered a bias incident, the act is not required to be a crime under any federal, state or local statute. The key criterion for determining whether a crime or incident is of a bias nature is the motivation behind the act.",graffiti:"A permanent or non-permanent drawing, painting, mark, inscription, or writing that destroys, injures, molests, or defaces the real or personal property of another without the permission of the owner of the property.",serial:"Any property that has a unique identifier from the manufacturer, such as a serial number or registration number. <strong>Some Examples Are:</strong> Televisions, bicycles, computers, stereo equipment, etc..."};for(c=0;c<typeArray.length;c++)window[typeArray[c]+"Array"]=[],window[typeArray[c]+"Counter"]=0;$(document).ready(function(){$("div.nojs").hide(),$("div.js").show(),$.ajax({type:"GET",url:xmlLoc,dataType:"xml",success:function(e){if($(e).find("question").each(function(){for(questionText=jQuery.trim($(this).find("text").text()),questionText=instrCheck(questionText,keywordArray),questionRank=$(this).find("rank").text(),questionAnswer=$(this).find("correctAnswer").text(),questionType=$(this).find("type").text(),m=0;m<typeArray.length;m++)categoryCheck(questionType,typeArray[m],questionRank,questionText,questionAnswer,window[typeArray[m]+"Array"])}),"shoplifting"!=questionType)for(x=1;x<basicCounter+1;x++)questionStringBuilder(x,"basic");for(k=1;k<typeArray.length;k++)if(window[typeArray[k]+"Array"].length>0)for(o=1;o<window[typeArray[k]+"Counter"]+1;o++)questionStringBuilder(o,typeArray[k]);htmlString="<div class='questions'><ul>"+liString+"</ul></div>",htmlString+='<div class="noreport">&nbsp;</div><div class="success">&nbsp;</div>',$("#questions").html(htmlString),$("div.questions li").each(function(){i++}),$("div.questions ul li:not(:first-child), div.questions a").each(function(){$("input",this).attr("disabled","disabled"),$(this).css("color","gray")}),$("div.questions :input").click(function(){if(j++,$(".qtip").qtip("disable"),$("a.active").css("cursor","default"),$(this).parent().hasClass("shoplifting")&&"Is there a known suspect?"==$(this).parent().children("p").text()){"No"==$(this).val()&&($("div.questions ul li:not(:first), .noreport").hide(),$("div.success").html("<p>Since there is no known suspect, you will need to file a theft report.</p>&nbsp;<a href='"+link.theft.sepage+"' class='goToForm'>File a Theft Report Now</a>").css("color","green"))}if($(this).hasClass("noanswer")&&($(this).hasClass("nomotor")?$("div.success").html("<p>Your report is qualified to file online.</p>&nbsp;<a href='"+link.theft.nomotor+"' class='startReport'>File a Report Now</a>").css("color","green"):$(this).hasClass("motor")&&$("div.success").html("<p>Your report is qualified to file online.</p>&nbsp;<a href='"+link.theft.motor+"' class='startReport'>File a Report Now</a>").css("color","green"),$("div.questions").hasClass("destructionofproperty")&&($(this).hasClass("nomotor")?$("div.success").html("<p>Your report is qualified to file online.</p>&nbsp;<a href='"+link.des_of_property.nomotor+"' class='startReport'>File a Report Now</a>").css("color","green"):$(this).hasClass("motor")&&$("div.success").html("<p>Your report is qualified to file online.</p>&nbsp;<a href='"+link.des_of_property.motor+"' class='startReport'>File a Report Now</a>").css("color","green"))),$(this).hasClass("correct")){var e=$(this),t=e.closest(".question-container");t.addClass("answered").removeClass("active").css("color","gray").find("input").attr("disabled","disabled").end().children().css("color","gray"),t.next().addClass("active").css("color","black").find("input").removeAttr("disabled").end().children().css("color","black"),i==j&&(generateLink(e,"lostproperty",link.lost_property),generateLink(e,"hitandrun",link.hit_and_run),generateLink(e,"abandonedvehicle",link.abandoned),generateLink(e,"shoplifting",link.shop_lifting)),null!=t.next().children().html()&&generateQtip(t.next().children().html(),keywordArray)}else{var e=$(this),t=e.closest(".question-container");t.find("input").attr("disabled","disabled").children().css("color","gray").end(),t.siblings(":not(.answered)").hide(),$(this).parent().html().indexOf("Baltimore County, Maryland?")>-1?$("div.noreport").html("<p>Sorry, you cannot file your report with Baltimore County. Notify the jurisidiction where the incident occured.").css("color","red"):$(this).hasClass("noanswer")?$("div.noreport").hide():$("div.noreport").html("<p>Sorry, your report does not qualify to file online. You need to  file by calling the non-emergency number at 410-887-2222 or visiting your <a href='"+link.precincts+"'>local precinct.</a>").css("color","red")}})}}),$("a.startReport").live("click",function(){var e=$(this),t=e.attr("href"),i='<div class="disclaimer">\t<h2>Citizen Online Reporting System Disclaimer</h2>\t<p><strong>You are about to launch the Citizen Online Reporting Application. Please read the disclaimer below before proceeding.</strong></p><p>This web site provides a means of Submitting a Police Report that can be used by the public to report crime.</p>\t<ol>\t\t<li><p>To report an emergency or crime in progress call 911 immediately.</p></li>\t\t<li><p>On this web site you may report abandoned vehicle(s), destruction of property, destruction of vehicle(s), hit and run, lost property, theft and theft from a vehicle. For an immediate response please use your telephone and dial 911.</p></li>\t\t<li><p>We encourage good faith reporting of information regarding a crime through this web site. The Baltimore County Police Department reserves the right to contact you to verify or clarify the information you provide.</p></li>\t\t<li><p>Pursuant to Maryland law it is a crime to make false statements and/or misuse electronic communication. Violators will be prosecuted to the full extent of the law.</p></li>\t</ol>\t<p>Acceptance of the above terms is required in order to continue to the Online Police Report.</p>\t<p>The application which you are filing is being filed under oath.</p>\t\t<h3>&#167; 9-501. False statement - To law enforcement officer.</h3>\t<p>(a) Prohibited.- A person may not make, or cause to be made, a statement, report, or complaint that the person knows to be false as a whole or in material part, to a law enforcement officer of the State, of a county, municipal corporation, or other political subdivision of the State, or of the Maryland-National Capital Park and Planning Police with intent to deceive and to cause an investigation or other action to be taken as a result of the statement, report, or complaint.</p>\t<p>(b) Penalty.- A person who violates this section is guilty of a misdemeanor and on conviction is subject to imprisonment not exceeding 6 months or a fine not exceeding $500 or both.<br />\t<p><small>[An Code 1957, art. 27, &sect; 150(a), (c); 2002, ch. 26, &sect; 2.]</small></p>\t<p>If your incident qualifies for an online report and you wish to continue,</p></div><a href="'+t+'" id="leaveThisPage">I Agree</a>&nbsp;&nbsp;&nbsp;<a href="#" id="stayOnPage" onClick="$.fancybox.close();">I Do Not Agree</a>';e.attr("id","inline").attr("href","#data"),$.fancybox(i,{showCloseButton:!1,hideOnOverlayClick:!1,onComplete:function(){$.fancybox.resize(),$("a#inline").attr("href",t),$("a#leaveThisPage").click(function(){$.fancybox.close()})}})})});