namespacer("baltimoreCounty.pageSpecific"),baltimoreCounty.pageSpecific.viewerGoogleMaps=function(e,t){var n,o=function(e,t){window.map=new google.maps.Map(document.getElementById(e),t)},i=function(e){var t={map:window.map,position:{lat:1*e.Latitude,lng:1*e.Longitude},animation:google.maps.Animation.DROP};return e.ImageUrl&&(t.icon=e.ImageUrl),e.ZIndex&&(t.zIndex=e.ZIndex,t.optimized=!1),n=new google.maps.Marker(t),e.InfoWindowHtml&&(n.html=e.InfoWindowHtml),n},a=function(){n&&n.setMap(null)},r=function(e,t,n,o){a()},d=function(e,t){r()},l=function(e,t,n){require(["esri/tasks/Locator","esri/geometry/Point"],function(o,i){var a=new i(t,e),r={countryCode:"US",outSpatialReference:4269,url:"http://bcgis.baltimorecountymd.gov/arcgis/rest/services/Geocoders/AddressPoint_NAD83/GeocodeServer"},d=new o(r);d.locationToAddress(a).then(n,function(e){console.log(e)})})},c=function(e){return'<div class="maps-info-window"><h4><a href="/CitySourced/preview/viewer?reportId='+e.Id+'">'+e.IssueType+"</a></h4><ul><li>Status: "+e.StatusType+"</li><li>Reported on "+e.DateCreated+"</li></ul></div>"};return{initGoogle:function(){var e=baltimoreCounty.pageSpecific.citySourcedData,t=baltimoreCounty.pageSpecific.nearbyData,n=[],a={center:{lat:e.Latitude,lng:e.Longitude},scrollwheel:!1,zoom:14,mapTypeId:"roadmap",mapTypeControl:!1,streetViewControl:!1},r=new google.maps.InfoWindow({content:"holding..."});o("map",a);var d={Latitude:a.center.lat,Longitude:a.center.lng,ImageUrl:"/sebin/n/f/icon-marker-my-report.png",ZIndex:7999};if(i(d),l(a.center.lat,a.center.lng,function(e){$("#address").text(e.address.Street+", "+e.address.City+", "+e.address.State)}),t)for(var u=0;u<t.length;u++)if(t[u].Latitude!=e.Latitude&&t[u].Longitude!=e.Longitude){var s={Latitude:t[u].Latitude,Longitude:t[u].Longitude,ImageUrl:"/sebin/n/p/icon-marker-other.png",InfoWindowHtml:c(t[u])};n[u]=i(s),google.maps.event.addListener(n[u],"click",function(){r.setContent(this.html),r.open(map,this)})}},centerMapOnLatLng:d}}();