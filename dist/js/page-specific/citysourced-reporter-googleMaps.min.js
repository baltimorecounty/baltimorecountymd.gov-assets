namespacer("baltimoreCounty.pageSpecific"),baltimoreCounty.pageSpecific.reporterGoogleMaps=function(e,t){var n,a,o="AIzaSyAqazsw3wPSSxOFVmij32C_LIhBSuyUNi8",r="Baltimore County",l=function(e,t){window.map=new google.maps.Map(document.getElementById(e),t)},s=function(e,t){a=new google.maps.places.Autocomplete(document.getElementById(e),t)},i=function(e,t){n=new google.maps.Marker({map:window.map,position:{lat:e,lng:t},animation:google.maps.Animation.DROP})},d=function(){n&&n.setMap(null)},c=function(e){var t=e.latLng.lat(),n=e.latLng.lng();u(t,n,!0)},u=function(e,t,n,a){d();y(e,t,n,function(n){n&&(i(e,t),_(e,t)),a&&a(n)})},g=function(){$("#address").val(B($("#address").val()));var e=a.getPlace();e.geometry&&(latitude=e.geometry.location.lat(),longitude=e.geometry.location.lng(),m(latitude,longitude))},m=function(e,t){u(e,t,!1,function(n){if(n){var a=new google.maps.LatLng(e,t);window.map.panTo(a),window.map.setZoom(16),google.maps.event.trigger(window.map,"resize"),map.setCenter(a)}})},p=function(e){var t=e.which||e.keyCode;if(13===t){var n=$("#address");v(n,n.val())}},f=function(e){var t=$("#address");v(t,t.val())},v=function(e,t){$.ajax("https://maps.googleapis.com/maps/api/geocode/json?address="+t+"&key="+o).done(function(t){if(t.results.length){var n=t.results[0].geometry.location.lat,a=t.results[0].geometry.location.lng;m(n,a),e.parent().removeClass("error"),e.val(t.results[0].formatted_address)}else e.parent().addClass("error"),e.val("")}).fail(function(e){console.log("error!",e)})},y=function(e,t,n,a){var r=$("#address");$.ajax("https://maps.googleapis.com/maps/api/geocode/json?latlng="+e+","+t+"&key="+o).done(function(e){var t=w(e.results);t?(r.parent().removeClass("error"),r.val(B(t))):(r.parent().addClass("error"),r.val("")),a(!!t)})},w=function(e){var t=$.grep(e,C),n=$.grep(e,I);return!!h(n)&&(!(!t||!t.length)&&t[0].formatted_address)},h=function(e){var t="";return e&&e.length&&(t=e[0].formatted_address),t.indexOf(r)!==-1},C=function(e,t){return L(e,t,"street_address")},I=function(e,t){return L(e,t,"administrative_area_level_2")},L=function(e,t,n){var a;return e.types&&(a=$.grep(e.types,function(e,t){return e===n})),!!a.length&&a},_=function(e,t){document.getElementById("map-latitude").value=e,document.getElementById("map-longitude").value=t},B=function(e){return e.replace(", USA","")},E=function(){var e={center:{lat:39.4003288,lng:-76.60652470000002},scrollwheel:!1,zoom:14,mapTypeId:"roadmap",mapTypeControl:!1,streetViewControl:!1},t={types:["geocode"]};l("map",e),s("address",t),google.maps.event.addListener(map,"click",c),a.addListener("place_changed",g),document.getElementById("addressSearch").addEventListener("click",f),document.getElementById("address").addEventListener("keyup",p)};return{initGoogle:E}}();