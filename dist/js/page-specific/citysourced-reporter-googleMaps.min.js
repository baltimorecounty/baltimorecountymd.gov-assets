namespacer("baltimoreCounty.pageSpecific"),baltimoreCounty.pageSpecific.reporterGoogleMaps=function(e,t){var n,a,o="AIzaSyAqazsw3wPSSxOFVmij32C_LIhBSuyUNi8",r=function(e,t){window.map=new google.maps.Map(document.getElementById(e),t)},l=function(e,t){a=new google.maps.places.Autocomplete(document.getElementById(e),t)},s=function(e,t){n=new google.maps.Marker({map:window.map,position:{lat:e,lng:t},animation:google.maps.Animation.DROP})},i=function(){n&&n.setMap(null)},d=function(e){var t=e.latLng.lat(),n=e.latLng.lng();c(t,n,!0)},c=function(e,t,n,a){i();v(e,t,n,function(n){n&&(s(e,t),L(e,t)),a&&a(n)})},u=function(){$("#address").val(_($("#address").val()));var e=a.getPlace();e.geometry&&(latitude=e.geometry.location.lat(),longitude=e.geometry.location.lng(),g(latitude,longitude))},g=function(e,t){c(e,t,!1,function(n){if(n){var a=new google.maps.LatLng(e,t);window.map.panTo(a),window.map.setZoom(16),google.maps.event.trigger(window.map,"resize"),map.setCenter(a)}})},m=function(e){if(13===(e.which||e.keyCode)){var t=$("#address");f(t,t.val())}},p=function(e){var t=$("#address");f(t,t.val())},f=function(e,t){$.ajax("https://maps.googleapis.com/maps/api/geocode/json?address="+t+"&key="+o).done(function(t){if(t.results.length){var n=t.results[0].geometry.location.lat,a=t.results[0].geometry.location.lng;g(n,a),e.parent().removeClass("error"),e.val(t.results[0].formatted_address)}else e.parent().addClass("error"),e.val("")}).fail(function(e){console.log("error!",e)})},v=function(e,t,n,a){var r=$("#address");$.ajax("https://maps.googleapis.com/maps/api/geocode/json?latlng="+e+","+t+"&key="+o).done(function(e){var t=y(e.results);t?(r.parent().removeClass("error"),r.val(_(t))):(r.parent().addClass("error"),r.val("")),a(!!t)})},y=function(e){var t=$.grep(e,h),n=$.grep(e,C);return!!w(n)&&(!(!t||!t.length)&&t[0].formatted_address)},w=function(e){var t="";return e&&e.length&&(t=e[0].formatted_address),t.indexOf("Baltimore County")!==-1},h=function(e,t){return I(e,t,"street_address")},C=function(e,t){return I(e,t,"administrative_area_level_2")},I=function(e,t,n){var a;return e.types&&(a=$.grep(e.types,function(e,t){return e===n})),!!a.length&&a},L=function(e,t){document.getElementById("map-latitude").value=e,document.getElementById("map-longitude").value=t},_=function(e){return e.replace(", USA","")};return{initGoogle:function(){var e={center:{lat:39.4003288,lng:-76.60652470000002},scrollwheel:!1,zoom:14,mapTypeId:"roadmap",mapTypeControl:!1,streetViewControl:!1},t={types:["geocode"]};r("map",e),l("address",t),google.maps.event.addListener(map,"click",d),a.addListener("place_changed",u),document.getElementById("addressSearch").addEventListener("click",p),document.getElementById("address").addEventListener("keyup",m)}}}();