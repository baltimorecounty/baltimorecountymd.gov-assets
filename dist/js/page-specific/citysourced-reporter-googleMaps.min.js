namespacer("baltimoreCounty.pageSpecific"),baltimoreCounty.pageSpecific.reporterGoogleMaps=function(e,a){var n,t,o="AIzaSyAqazsw3wPSSxOFVmij32C_LIhBSuyUNi8",r=function(e,a){window.map=new google.maps.Map(document.getElementById(e),a)},l=function(e,a){t=new google.maps.places.Autocomplete(document.getElementById(e),a)},s=function(e,a){n=new google.maps.Marker({map:window.map,position:{lat:e,lng:a},animation:google.maps.Animation.DROP})},i=function(){n&&n.setMap(null)},d=function(e){var a=e.latLng.lat(),n=e.latLng.lng();c(a,n,!0)},c=function(e,a,n,t){i();v(e,a,n,function(n){n&&(s(e,a),L(e,a)),t&&t(n)})},p=function(e,a){$("#address").val(k($("#address").val())),e.geometry&&(latitude=e.geometry.location.lat(),longitude=e.geometry.location.lng(),g(a,latitude,longitude))},g=function(e,a,n){c(a,n,!1,function(t){if(t){var o=new google.maps.LatLng(a,n);e.panTo(o),e.setZoom(16),google.maps.event.trigger(window.map,"resize"),e.setCenter(o)}})},m=function(e){if(13===(e.which||e.keyCode)){var a=$("#address");f(a,a.val())}},u=function(e){var a=$("#address");f(a,a.val())},f=function(e,a){$.ajax("https://maps.googleapis.com/maps/api/geocode/json?address="+a+"&key="+o).done(function(a){if(a.results.length){var n=a.results[0].geometry.location.lat,t=a.results[0].geometry.location.lng;g(map,n,t),e.parent().removeClass("error"),e.val(a.results[0].formatted_address)}else e.parent().addClass("error"),e.val("")}).fail(function(e){console.log("error!",e)})},v=function(e,a,n,t){var r=$("#address");$.ajax("https://maps.googleapis.com/maps/api/geocode/json?latlng="+e+","+a+"&key="+o).done(function(e){var a=y(e.results);a?(r.parent().removeClass("error"),r.val(k(a))):(r.parent().addClass("error"),r.val("")),t(!!a)})},y=function(e){var a=$.grep(e,C);return!!w(a)&&e[0].formatted_address},w=function(e){var a="";return e&&e.length&&(a=e[0].formatted_address),a.indexOf("Baltimore County")!==-1},C=function(e,a){return h(e,a,"administrative_area_level_2")},h=function(e,a,n){var t;return e.types&&(t=$.grep(e.types,function(e,a){return e===n})),!!t.length&&t},L=function(e,a){$("#map-latitude").val(e),$("#map-longitude").val(a)},k=function(e){return e.replace(", USA","")};return{initGoogle:function(){var e={center:{lat:39.4003288,lng:-76.60652470000002},scrollwheel:!1,zoom:14,mapTypeId:"roadmap",mapTypeControl:!1,streetViewControl:!1},a={types:["geocode"]};r("map",e),l("address",a),google.maps.event.addListener(map,"click",d),t.addListener("place_changed",p),document.getElementById("addressSearch").addEventListener("click",u),document.getElementById("address").addEventListener("keyup",m)},mapClickHandler:d,autocompletePlaceChangedHandler:p}}();