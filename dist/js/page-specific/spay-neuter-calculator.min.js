namespacer("baltimoreCounty.pageSpecific"),baltimoreCounty.pageSpecific.spayNeuterCalculator=function(e){"use strict";var t=["21219","21220","21221","21222","21224","21237"],r=["21207","21227","21244"],a={baldwin:{address:"Baldwin, 13800 Manor Road",link:"https://clinichq.org/online/564cf872-6f61-476f-8ecd-61d574a8a06f"},dundalk:{address:"Dundalk, 7702 Dunmanway",link:"https://clinichq.org/online/144afb8f-6c15-4f15-8e16-9417a4f85823"},swap:{address:"Southwest Area Park, 3941 Klunk Drive",link:"https://clinichq.org/online/3edba5a4-9922-4e2a-87a5-c138c8e8f4a8"}},i=e("#spayNeuterForm"),o=e("#spayNeuterForm input[name=isBaltimoreCountyResident]"),n=e("#spayNeuterForm input[name=isPublicAssistance]"),u=e("#spayNeuterForm input[name=isCatPitBull]"),l=e("#spayNeuterForm #zipCode"),s=(e("#spayNeuterFormButton"),!1),d=!1,c=!1,p="",f=/^\d{5}$/,y=function(){var e=!1;return baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(o)||(v(o),e=!0),baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(n)||(v(n),e=!0),baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(u)||(v(u),e=!0),baltimoreCounty.utility.formValidator.requiredFieldPatternValidator(l,f)||(v(l),e=!0),!e},m=function(t){for(var r=t.find("input"),a=0;a<r.length;a++){var i=e(r[a]),o=i.attr("type");switch(o){case"radio":i.on("click",g);break;case"text":i.on("keyup",h)}}},g=function(t){var r=e(t.target);baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(r)?k(r):v(r)},h=function(t){var r=e(t.target);baltimoreCounty.utility.formValidator.requiredFieldPatternValidator(r,f)?k(r):v(r)},k=function(e){e.closest("div").find(".required-field-error-message").remove()},v=function(e){var t=e.closest("div"),r=e.attr("data-validation-message");0===t.find(".required-field-error-message").length&&t.append('<div class="required-field-error-message">'+r+"</div>")},b=function(){var e={isResident:o.length?"true"==C(o):s,isPublicAssistance:n.length?"true"==C(n):d,isCatPitBull:u.length?"true"==C(u):c,zipCode:l.length?l.val():p};return m(i),e},C=function(e){if(0!==e.length){var t=e.filter(":checked");return t.length>0?t.val():void 0}},w=function(e,t,r){if(e){var a;return e.isResident&&(a=20,a=e.isPublicAssistance?e.isCatPitBull||t||r?0:20:t||r?0:20),a}},F=function(e,t,r,i){var o=[];return"undefined"==typeof e?o:r?(o.push(a.dundalk),o):i?(o.push(a.swap),o):20===e||0===e&&t?(o.push(a.baldwin),o.push(a.dundalk),o.push(a.swap),o):o},N=function(e,t){return"undefined"==typeof t?"<p>We're sorry. Only County residents are eligible for discount spay or neuter procedures.</p>":1===e.length&&e[0]===a.dundalk?"<p>Good news! You're eligible for a <strong>free procedure</strong> at our Dundalk facility at 7702 Dunmanway.</p>":1===e.length&&e[0]===a.swap?"<p>Good news! You're eligible for a <strong>free procedure</strong> at our Southwest Area Park facility at 3941 Klunk Drive.</p>":0===t?"<p>Good news! You're eligible for a <strong>free procedure</strong> at any of our facilities. Select a location to book your appointment.</p>":"<p>Good news! You're eligible for a <strong>$20 procedure</strong> at any of our facilities. Select a location to book your appointment. Make sure to continue to the payment screen after you book.</p>"},q=function(e){if(!e||0===e.length)return"";var t="";if(t+="<ul>",1===e.length&&(t+='<li><a href="'+e[0].link+'">Book Now at '+e[0].address.split(",")[0]+"</a></li>"),3===e.length)for(var r=0;r<e.length;r++)t+='<li><a href="'+e[r].link+'">'+e[r].address+"</a></li>";return t+="</ul>"},R=function(){var a=b(),i=t.indexOf(a.zipCode)>-1,o=r.indexOf(a.zipCode)>-1,n=w(a,i,o),u=F(n,a.isPublicAssistance,i,o),l=N(u,n),s=q(u);return!!y()&&(e("#spayNeuterFormResults").addClass(s?"alert-success":"alert-warning").attr("role","alert"),e("#spayNeuterFormResults").html(l+s),e("#spayNeuterFormResults").removeClass("hidden"),e("html, body").animate({scrollTop:e("#spayNeuterFormResults").offset().top},1e3),!0)};return{calculate:R}}(jQuery),$(function(){$("#spayNeuterForm, #spayNeuterForm input").on("keyup keypress",function(e){var t=e.keyCode||e.which;if(13===t)return e.preventDefault(),!1}),$("#spayNeuterFormButton").on("click",function(e){return baltimoreCounty.pageSpecific.spayNeuterCalculator.calculate(),!1})});