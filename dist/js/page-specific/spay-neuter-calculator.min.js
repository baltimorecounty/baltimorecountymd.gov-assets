namespacer("baltimoreCounty.pageSpecific"),baltimoreCounty.pageSpecific.spayNeuterCalculator=function(e){"use strict";var n=[],t=[],i=["21227","21228","21244","21207"],o={baldwin:{address:"Baldwin, 13800 Manor Road",link:"https://clinichq.com/online/564cf872-6f61-476f-8ecd-61d574a8a06f"},dundalk:{address:"Dundalk, 7702 Dunmanway",link:"https://clinichq.com/online/144afb8f-6c15-4f15-8e16-9417a4f85823"},swap:{address:"Southwest Area Park, 3941 Klunk Drive",link:"https://clinichq.com/online/3edba5a4-9922-4e2a-87a5-c138c8e8f4a8"}},r=e("#spayNeuterForm"),a=e("#spayNeuterForm input"),u=e("#spayNeuterForm input[name=isBaltimoreCountyResident]"),c=e("#spayNeuterForm input[name=isPublicAssistance]"),s=e("#spayNeuterForm input[name=isCatPitBull]"),l=e("#spayNeuterForm input[name=isForCat]"),f=e("#spayNeuterForm #zipCode"),d=e("#spayNeuterFormButton"),p=e("#spayNeuterFormResults"),m=/^\d{5}$/,g=function(){var e=!1;return f.is(":visible")&&!baltimoreCounty.utility.formValidator.requiredFieldPatternValidator(f,m)&&(v(f),e=!0),!e},y=function(n){for(var t=n.find("input"),i=0;i<t.length;i+=1){var o=e(t[i]);switch(o.attr("type")){case"radio":break;case"text":o.on("keyup",h)}}},h=function(n){var t=e(n.target);baltimoreCounty.utility.formValidator.requiredFieldPatternValidator(t,m)?k(t):v(t)},k=function(e){e.closest("div").find(".required-field-error-message").remove()},v=function(e){var n=e.closest("div"),t=e.attr("data-validation-message");0===n.find(".required-field-error-message").length&&n.append('<div class="required-field-error-message">'+t+"</div>")},b=function(){var e={isResident:!!u.length&&C(u),isPublicAssistance:!!c.length&&C(c),isCatPitBull:!!s.length&&C(s),zipCode:f.length?f.val():"",isForCat:!!l.length&&C(l)};return y(r),e},C=function(e){if(0!==e.length){var n=e.filter(":checked");return e.eq(0).is(n)}},w=function(e,n,t,i){if(e){var o;return e.isResident?(o=20,e.isPublicAssistance?e.isCatPitBull||n||t?0:20:!e.isPublicAssistance&&e.isForCat&&i?0:n||t?0:20):o}},q=function(e,n,t,i){var r=[];return void 0===e?r:t?(r.push(o.dundalk),r):i?(r.push(o.swap),r):20===e||0===e&&n?(r.push(o.baldwin),r.push(o.dundalk),r.push(o.swap),r):r},F=function(e,n){return void 0===n?"<p>We're sorry. Only County residents are eligible for discount spay or neuter procedures.</p>":1===e.length&&e[0]===o.dundalk?"<p>Good news! You're eligible for a <strong>free procedure</strong> at our Dundalk facility at 7702 Dunmanway.</p>":1===e.length&&e[0]===o.swap?"<p>Good news! You're eligible for a <strong>free procedure</strong> at our Southwest Area Park facility at 3941 Klunk Drive.</p>":0===n?"<p>Good news! You're eligible for a <strong>free procedure</strong> at any of our facilities. Select a location to book your appointment.</p>":"<p>Good news! You're eligible for a <strong>$20 procedure</strong> at any of our facilities. Select a location to book your appointment. Make sure to continue to the payment screen after you book.</p>"},N=function(e){if(!e||0===e.length)return"";var n="";if(n+="<ul>",1===e.length&&(n+='<li><a href="'+e[0].link+'">Book Now at '+e[0].address.split(",")[0]+"</a></li>"),3===e.length)for(var t=0;t<e.length;t++)n+='<li><a href="'+e[t].link+'">'+e[t].address+"</a></li>";return n+="</ul>"},P=function(){var e=b(),o=n.indexOf(e.zipCode)>-1,r=t.indexOf(e.zipCode)>-1,a=i.indexOf(e.zipCode)>-1,u=w(e,o,r,a),c=q(u,e.isPublicAssistance,o,r),s=F(c,u),l=N(c);g()&&A(s,l)},A=function(n,t){p.removeClass("alert-success alert-warning"),p.addClass(t?"alert-success":"alert-warning").attr("role","alert"),p.html(n+t),p.attr("aria-hidden",!1),B(p,!1),e("html, body").animate({scrollTop:p.offset().top},1e3)},B=function(e,n,t){var i=n?":hidden":":visible",o=e.closest(".bc-form-control");if(o.is(i))return void(t&&"function"==typeof t&&t());o.attr("aria-hidden",n),n?o.fadeOut(300,t):o.fadeIn(300,t)},D=function(n){var t=a.index(n);a.map(function(n,i){var o=e(i);a.index(i)>t&&o.val("").removeAttr("checked")})};return{init:function(){u.eq(0).on("click",function(e){D(e.target),B(p,!0,function(){B(d,!0,function(){B(f,!0,function(){B(l,!0,function(){B(s,!0,function(){B(c,!1)})})})})})}),u.eq(1).on("click",function(e){D(e.target),B(p,!0,function(){B(d,!0,function(){B(f,!0,function(){B(l,!0,function(){B(s,!0,function(){B(c,!0,function(){P()})})})})})})}),c.eq(0).on("click",function(e){D(e.target),B(p,!0,function(){B(d,!0,function(){B(f,!0,function(){B(l,!0,function(){B(s,!1)})})})})}),c.eq(1).on("click",function(e){D(e.target),B(p,!0,function(){B(f,!0,function(){B(d,!0,function(){B(l,!1)})})})}),s.eq(0).on("click",function(e){D(e.target),B(p,!0,function(){B(d,!0,function(){B(f,!0,function(){P()})})})}),s.eq(1).on("click",function(){B(p,!0,function(){B(f,!1,function(){B(d,!1)})})}),l.eq(0).on("click",function(e){D(e.target),B(p,!0,function(){B(f,!1,function(){B(d,!1)})})}),l.eq(1).on("click",function(){B(p,!0,function(){B(f,!1,function(){B(d,!1)})})}),d.on("click",P)}}}(jQuery),$(function(){$("#spayNeuterForm, #spayNeuterForm input").on("keyup keypress",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1}),baltimoreCounty.pageSpecific.spayNeuterCalculator.init()});