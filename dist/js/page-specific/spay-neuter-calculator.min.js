namespacer("baltimoreCounty.pageSpecific"),baltimoreCounty.pageSpecific.spayNeuterCalculator=function(e){"use strict";var n=["21219","21220","21221","21222","21224","21237"],t=["21207","21227","21244"],i={baldwin:{address:"Baldwin, 13800 Manor Road",link:"https://clinichq.org/online/564cf872-6f61-476f-8ecd-61d574a8a06f"},dundalk:{address:"Dundalk, 7702 Dunmanway",link:"https://clinichq.org/online/144afb8f-6c15-4f15-8e16-9417a4f85823"},swap:{address:"Southwest Area Park, 3941 Klunk Drive",link:"https://clinichq.org/online/3edba5a4-9922-4e2a-87a5-c138c8e8f4a8"}},r=e("#spayNeuterForm"),o=e("#spayNeuterForm input"),a=e("#spayNeuterForm input[name=isBaltimoreCountyResident]"),u=e("#spayNeuterForm input[name=isPublicAssistance]"),s=e("#spayNeuterForm input[name=isCatPitBull]"),c=e("#spayNeuterForm #zipCode"),l=e("#spayNeuterFormButton"),f=e("#spayNeuterFormResults"),d=!1,p=!1,g=!1,y="",h=/^\d{5}$/,m=function(){var e=!1;return c.is(":visible")&&!baltimoreCounty.utility.formValidator.requiredFieldPatternValidator(c,h)&&(w(c),e=!0),!e},v=function(n){for(var t=n.find("input"),i=0;i<t.length;i++){var r=e(t[i]),o=r.attr("type");switch(o){case"radio":break;case"text":r.on("keyup",k)}}},k=function(n){var t=e(n.target);baltimoreCounty.utility.formValidator.requiredFieldPatternValidator(t,h)?b(t):w(t)},b=function(e){e.closest("div").find(".required-field-error-message").remove()},w=function(e){var n=e.closest("div"),t=e.attr("data-validation-message");0===n.find(".required-field-error-message").length&&n.append('<div class="required-field-error-message">'+t+"</div>")},C=function(){var e={isResident:a.length?q(a):d,isPublicAssistance:u.length?q(u):p,isCatPitBull:s.length?q(s):g,zipCode:c.length?c.val():y};return v(r),e},q=function(e){var n=0;if(0!==e.length){var t=e.filter(":checked");return e.eq(n).is(t)}},N=function(e,n,t){if(e){var i;return e.isResident&&(i=20,i=e.isPublicAssistance?e.isCatPitBull||n||t?0:20:n||t?0:20),i}},F=function(e,n,t,r){var o=[];return"undefined"==typeof e?o:t?(o.push(i.dundalk),o):r?(o.push(i.swap),o):20===e||0===e&&n?(o.push(i.baldwin),o.push(i.dundalk),o.push(i.swap),o):o},P=function(e,n){return"undefined"==typeof n?"<p>We're sorry. Only County residents are eligible for discount spay or neuter procedures.</p>":1===e.length&&e[0]===i.dundalk?"<p>Good news! You're eligible for a <strong>free procedure</strong> at our Dundalk facility at 7702 Dunmanway.</p>":1===e.length&&e[0]===i.swap?"<p>Good news! You're eligible for a <strong>free procedure</strong> at our Southwest Area Park facility at 3941 Klunk Drive.</p>":0===n?"<p>Good news! You're eligible for a <strong>free procedure</strong> at any of our facilities. Select a location to book your appointment.</p>":"<p>Good news! You're eligible for a <strong>$20 procedure</strong> at any of our facilities. Select a location to book your appointment. Make sure to continue to the payment screen after you book.</p>"},A=function(e){if(!e||0===e.length)return"";var n="";if(n+="<ul>",1===e.length&&(n+='<li><a href="'+e[0].link+'">Book Now at '+e[0].address.split(",")[0]+"</a></li>"),3===e.length)for(var t=0;t<e.length;t++)n+='<li><a href="'+e[t].link+'">'+e[t].address+"</a></li>";return n+="</ul>"},B=function(){var e=C(),i=n.indexOf(e.zipCode)>-1,r=t.indexOf(e.zipCode)>-1,o=N(e,i,r),a=F(o,e.isPublicAssistance,i,r),u=P(a,o),s=A(a);m()&&D(u,s)},D=function(n,t){f.removeClass("alert-success alert-warning"),f.addClass(t?"alert-success":"alert-warning").attr("role","alert"),f.html(n+t),f.attr("aria-hidden",!1),S(f,!1),e("html, body").animate({scrollTop:f.offset().top},1e3)},S=function(e,n,t){var i=300,r=n?":hidden":":visible",o=e.closest(".bc-form-control");return t=t||function(){},o.is(r)?void t():(o.attr("aria-hidden",n),void(n?o.fadeOut(i,t):o.fadeIn(i,t)))},x=function(n){var t=o.index(n);o.map(function(n,i){var r=e(i);o.index(i)>t&&r.val("").removeAttr("checked")})},R=function(){var e=0,n=1;a.eq(e).on("click",function(e){x(e.target),S(f,!0,function(){S(l,!0,function(){S(c,!0,function(){S(s,!0,function(){S(u,!1)})})})})}),a.eq(n).on("click",function(e){x(e.target),S(f,!0,function(){S(l,!0,function(){S(c,!0,function(){S(s,!0,function(){S(u,!0,function(){B()})})})})})}),u.eq(e).on("click",function(e){x(e.target),S(f,!0,function(){S(l,!0,function(){S(c,!0,function(){S(s,!1)})})})}),u.eq(n).on("click",function(e){x(e.target),S(f,!0,function(){S(c,!1,function(){S(l,!1,function(){S(s,!0)})})})}),s.eq(e).on("click",function(e){x(e.target),S(f,!0,function(){S(l,!0,function(){S(c,!0,function(){B()})})})}),s.eq(n).on("click",function(e){S(f,!0,function(){S(c,!1,function(){S(l,!1)})})}),l.on("click",function(){B()})};return{init:R}}(jQuery),$(function(){$("#spayNeuterForm, #spayNeuterForm input").on("keyup keypress",function(e){var n=e.keyCode||e.which;if(13===n)return e.preventDefault(),!1}),baltimoreCounty.pageSpecific.spayNeuterCalculator.init()});