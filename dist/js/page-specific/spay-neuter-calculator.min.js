namespacer("baltimoreCounty.pageSpecific"),baltimoreCounty.pageSpecific.spayNeuterCalculator=function(e){"use strict";var n=[],t=["21207","21227","21228","21244"],i={baldwin:{address:"Baldwin, 13800 Manor Road",link:"https://clinichq.com/online/564cf872-6f61-476f-8ecd-61d574a8a06f"},dundalk:{address:"Dundalk, 7702 Dunmanway",link:"https://clinichq.com/online/144afb8f-6c15-4f15-8e16-9417a4f85823"},swap:{address:"Southwest Area Park, 3941 Klunk Drive",link:"https://clinichq.com/online/3edba5a4-9922-4e2a-87a5-c138c8e8f4a8"}},r=e("#spayNeuterForm"),o=e("#spayNeuterForm input"),a=e("#spayNeuterForm input[name=isBaltimoreCountyResident]"),u=e("#spayNeuterForm input[name=isPublicAssistance]"),c=e("#spayNeuterForm input[name=isCatPitBull]"),s=e("#spayNeuterForm #zipCode"),l=e("#spayNeuterFormButton"),f=e("#spayNeuterFormResults"),d=function(){var e=!1;return s.is(":visible")&&!baltimoreCounty.utility.formValidator.requiredFieldPatternValidator(s,/^\d{5}$/)&&(y(s),e=!0),!e},p=function(n){for(var t=n.find("input"),i=0;i<t.length;i++){var r=e(t[i]);switch(r.attr("type")){case"radio":break;case"text":r.on("keyup",m)}}},m=function(n){var t=e(n.target);baltimoreCounty.utility.formValidator.requiredFieldPatternValidator(t,/^\d{5}$/)?g(t):y(t)},g=function(e){e.closest("div").find(".required-field-error-message").remove()},y=function(e){var n=e.closest("div"),t=e.attr("data-validation-message");0===n.find(".required-field-error-message").length&&n.append('<div class="required-field-error-message">'+t+"</div>")},h=function(){var e={isResident:!!a.length&&k(a),isPublicAssistance:!!u.length&&k(u),isCatPitBull:!!c.length&&k(c),zipCode:s.length?s.val():""};return p(r),e},k=function(e){if(0!==e.length){var n=e.filter(":checked");return e.eq(0).is(n)}},v=function(e,n,t){if(e){var i;return e.isResident&&(i=20,i=e.isPublicAssistance?e.isCatPitBull||n||t?0:20:n||t?0:20),i}},b=function(e,n,t,r){var o=[];return void 0===e?o:t?(o.push(i.dundalk),o):r?(o.push(i.swap),o):20===e||0===e&&n?(o.push(i.baldwin),o.push(i.dundalk),o.push(i.swap),o):o},w=function(e,n){return void 0===n?"<p>We're sorry. Only County residents are eligible for discount spay or neuter procedures.</p>":1===e.length&&e[0]===i.dundalk?"<p>Good news! You're eligible for a <strong>free procedure</strong> at our Dundalk facility at 7702 Dunmanway.</p>":1===e.length&&e[0]===i.swap?"<p>Good news! You're eligible for a <strong>free procedure</strong> at our Southwest Area Park facility at 3941 Klunk Drive.</p>":0===n?"<p>Good news! You're eligible for a <strong>free procedure</strong> at any of our facilities. Select a location to book your appointment.</p>":"<p>Good news! You're eligible for a <strong>$20 procedure</strong> at any of our facilities. Select a location to book your appointment. Make sure to continue to the payment screen after you book.</p>"},C=function(e){if(!e||0===e.length)return"";var n="";if(n+="<ul>",1===e.length&&(n+='<li><a href="'+e[0].link+'">Book Now at '+e[0].address.split(",")[0]+"</a></li>"),3===e.length)for(var t=0;t<e.length;t++)n+='<li><a href="'+e[t].link+'">'+e[t].address+"</a></li>";return n+="</ul>"},q=function(){var e=h(),i=n.indexOf(e.zipCode)>-1,r=t.indexOf(e.zipCode)>-1,o=v(e,i,r),a=b(o,e.isPublicAssistance,i,r),u=w(a,o),c=C(a);d()&&N(u,c)},N=function(n,t){f.removeClass("alert-success alert-warning"),f.addClass(t?"alert-success":"alert-warning").attr("role","alert"),f.html(n+t),f.attr("aria-hidden",!1),F(f,!1),e("html, body").animate({scrollTop:f.offset().top},1e3)},F=function(e,n,t){var i=n?":hidden":":visible",r=e.closest(".bc-form-control");if(t=t||function(){},r.is(i))return void t();r.attr("aria-hidden",n),n?r.fadeOut(300,t):r.fadeIn(300,t)},P=function(n){var t=o.index(n);o.map(function(n,i){var r=e(i);o.index(i)>t&&r.val("").removeAttr("checked")})};return{init:function(){a.eq(0).on("click",function(e){P(e.target),F(f,!0,function(){F(l,!0,function(){F(s,!0,function(){F(c,!0,function(){F(u,!1)})})})})}),a.eq(1).on("click",function(e){P(e.target),F(f,!0,function(){F(l,!0,function(){F(s,!0,function(){F(c,!0,function(){F(u,!0,function(){q()})})})})})}),u.eq(0).on("click",function(e){P(e.target),F(f,!0,function(){F(l,!0,function(){F(s,!0,function(){F(c,!1)})})})}),u.eq(1).on("click",function(e){P(e.target),F(f,!0,function(){F(s,!1,function(){F(l,!1,function(){F(c,!0)})})})}),c.eq(0).on("click",function(e){P(e.target),F(f,!0,function(){F(l,!0,function(){F(s,!0,function(){q()})})})}),c.eq(1).on("click",function(e){F(f,!0,function(){F(s,!1,function(){F(l,!1)})})}),l.on("click",function(){q()})}}}(jQuery),$(function(){$("#spayNeuterForm, #spayNeuterForm input").on("keyup keypress",function(e){if(13===(e.keyCode||e.which))return e.preventDefault(),!1}),baltimoreCounty.pageSpecific.spayNeuterCalculator.init()});