namespacer("baltimoreCounty.pageSpecific"),baltimoreCounty.pageSpecific.spayNeuterCalculator=function(e){"use strict";var t=["21219","21220","21221","21222","21224","21237"],i=["21207","21227","21244"],r={baldwin:{address:"Baldwin, 13800 Manor Road",link:"https://clinichq.org/online/564cf872-6f61-476f-8ecd-61d574a8a06f"},dundalk:{address:"Dundalk, 7702 Dunmanway",link:"https://clinichq.org/online/144afb8f-6c15-4f15-8e16-9417a4f85823"},swap:{address:"Southwest Area Park, 3941 Klunk Drive",link:"https://clinichq.org/online/3edba5a4-9922-4e2a-87a5-c138c8e8f4a8"}},a=e("#spayNeuterForm"),o=e("#spayNeuterForm input[name=isBaltimoreCountyResident]"),n=e("#spayNeuterForm input[name=isPublicAssistance]"),l=e("#spayNeuterForm input[name=isCatPitBull]"),u=e("#spayNeuterForm #zipCode"),s=e("#spayNeuterFormButton"),d=!1,c=!1,f=!1,p="",y=/^\d{5}$/,m=function(){var e=!1;return o.is(":visible")&&!baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(o)&&(k(o),e=!0),n.is(":visible")&&!baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(n)&&(k(n),e=!0),l.is(":visible")&&!baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(l)&&(k(l),e=!0),u.is(":visible")&&!baltimoreCounty.utility.formValidator.requiredFieldPatternValidator(u,y)&&(k(u),e=!0),!e},g=function(t){for(var i=t.find("input"),r=0;r<i.length;r++){var a=e(i[r]),o=a.attr("type");switch(o){case"radio":a.on("click",h);break;case"text":a.on("keyup",v)}}},h=function(t){var i=e(t.target);baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(i)?b(i):k(i)},v=function(t){var i=e(t.target);baltimoreCounty.utility.formValidator.requiredFieldPatternValidator(i,y)?b(i):k(i)},b=function(e){e.closest("div").find(".required-field-error-message").remove()},k=function(e){var t=e.closest("div"),i=e.attr("data-validation-message");0===t.find(".required-field-error-message").length&&t.append('<div class="required-field-error-message">'+i+"</div>")},C=function(){var e={isResident:o.length?"true"==w(o):d,isPublicAssistance:n.length?"true"==w(n):c,isCatPitBull:l.length?"true"==w(l):f,zipCode:u.length?u.val():p};return g(a),e},w=function(e){if(0!==e.length){var t=e.filter(":checked");return t.length>0?t.val():void 0}},F=function(e,t,i){if(e){var r;return e.isResident&&(r=20,r=e.isPublicAssistance?e.isCatPitBull||t||i?0:20:t||i?0:20),r}},N=function(e,t,i,a){var o=[];return"undefined"==typeof e?o:i?(o.push(r.dundalk),o):a?(o.push(r.swap),o):20===e||0===e&&t?(o.push(r.baldwin),o.push(r.dundalk),o.push(r.swap),o):o},q=function(e,t){return"undefined"==typeof t?"<p>We're sorry. Only County residents are eligible for discount spay or neuter procedures.</p>":1===e.length&&e[0]===r.dundalk?"<p>Good news! You're eligible for a <strong>free procedure</strong> at our Dundalk facility at 7702 Dunmanway.</p>":1===e.length&&e[0]===r.swap?"<p>Good news! You're eligible for a <strong>free procedure</strong> at our Southwest Area Park facility at 3941 Klunk Drive.</p>":0===t?"<p>Good news! You're eligible for a <strong>free procedure</strong> at any of our facilities. Select a location to book your appointment.</p>":"<p>Good news! You're eligible for a <strong>$20 procedure</strong> at any of our facilities. Select a location to book your appointment. Make sure to continue to the payment screen after you book.</p>"},R=function(e){if(!e||0===e.length)return"";var t="";if(t+="<ul>",1===e.length&&(t+='<li><a href="'+e[0].link+'">Book Now at '+e[0].address.split(",")[0]+"</a></li>"),3===e.length)for(var i=0;i<e.length;i++)t+='<li><a href="'+e[i].link+'">'+e[i].address+"</a></li>";return t+="</ul>"},V=function(){var r=C(),a=t.indexOf(r.zipCode)>-1,o=i.indexOf(r.zipCode)>-1,n=F(r,a,o),l=N(n,r.isPublicAssistance,a,o),u=q(l,n),s=R(l);return!!m()&&(e("#spayNeuterFormResults").addClass(s?"alert-success":"alert-warning").attr("role","alert"),e("#spayNeuterFormResults").html(u+s),e("#spayNeuterFormResults").removeClass("hidden"),e("html, body").animate({scrollTop:e("#spayNeuterFormResults").offset().top},1e3),!0)},P=function(e){var t=e.closest(".bc-form-control");t.fadeIn(300),t.attr("aria-hidden",!1)},B=function(){o.first().on("click",function(){P(n)}),n.first().on("click",function(){P(l)}),n.last().on("click",function(){P(u),P(s)}),l.first().on("click",function(){P(u),P(s)}),s.on("click",function(){return V(),!1})};return{init:B}}(jQuery),$(function(){$("#spayNeuterForm, #spayNeuterForm input").on("keyup keypress",function(e){var t=e.keyCode||e.which;if(13===t)return e.preventDefault(),!1}),baltimoreCounty.pageSpecific.spayNeuterCalculator.init()});