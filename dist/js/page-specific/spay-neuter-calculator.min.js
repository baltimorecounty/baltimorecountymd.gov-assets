namespacer("baltimoreCounty.pageSpecific"),baltimoreCounty.pageSpecific.spayNeuterCalculator=function(e){"use strict";var t=["21219","21220","21221","21222","21224","21237"],r=["21207","21227","21244"],i={baldwin:{address:"Baldwin, 13800 Manor Road",link:"https://clinichq.org/online/564cf872-6f61-476f-8ecd-61d574a8a06f"},dundalk:{address:"Dundalk, 7702 Dunmanway",link:"https://clinichq.org/online/144afb8f-6c15-4f15-8e16-9417a4f85823"},swap:{address:"Southwest Area Park, 3941 Klunk Drive",link:"https://clinichq.org/online/3edba5a4-9922-4e2a-87a5-c138c8e8f4a8"}},a=e("#spayNeuterForm"),o=e("#spayNeuterForm input[name=isBaltimoreCountyResident]"),n=e("#spayNeuterForm input[name=isPublicAssistance]"),u=e("#spayNeuterForm input[name=isCatPitBull]"),l=e("#spayNeuterForm #zipCode"),s=!1,d=!1,c=!1,f="",p=/^\d{5}$/,y=function(){var e=!1;return baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(o)||(h(o),e=!0),baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(n)||(h(n),e=!0),baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(u)||(h(u),e=!0),baltimoreCounty.utility.formValidator.requiredFieldPatternValidator(l,p)||(h(l),e=!0),!e},m=function(t){for(var r=t.find("input"),i=0;i<r.length;i++){var a=e(r[i]),o=a.attr("type");switch(o){case"radio":a.on("click",function(t){var r=e(t.target);baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(r)?g(r):h(r)});break;case"text":a.on("keyup",function(t){var r=e(t.target);baltimoreCounty.utility.formValidator.requiredFieldPatternValidator(r,p)?g(r):h(r)})}}},g=function(e){e.closest("div").find(".required-field-error-message").remove()},h=function(e){var t=e.closest("div"),r=e.attr("data-validation-message");0===t.find(".required-field-error-message").length&&t.append('<div class="required-field-error-message">'+r+"</div>")},k=function(){var e={isResident:o.length?"true"==v(o):s,isPublicAssistance:n.length?"true"==v(n):d,isCatPitBull:u.length?"true"==v(u):c,zipCode:l.length?l.val():f};return m(a),e},v=function(e){if(0!==e.length){var t=e.filter(":checked");return t.length>0?t.val():void 0}},b=function(e,t,r){if(e){if(e.isResident){var i=20;i=e.isPublicAssistance?e.isCatPitBull||t||r?0:20:t||r?0:20}return i}},C=function(e,t,r,a){var o=[];return"undefined"==typeof e?o:r?(o.push(i.dundalk),o):a?(o.push(i.swap),o):20===e||0===e&&t?(o.push(i.baldwin),o.push(i.dundalk),o.push(i.swap),o):o},w=function(e,t){return"undefined"==typeof t?"<p>We're sorry. Only County residents are eligible for discount spay or neuter procedures.<p>":1===e.length&&e[0]===i.dundalk?"<p>Good news! You're eligible for a <strong>free procedure</strong> at our Dundalk facility at 7702 Dunmanway.</p>":1===e.length&&e[0]===i.swap?"<p>Good news! You're eligible for a <strong>free procedure</strong> at our Southwest Area Park facility at 3941 Klunk Drive.</p>":0===t?"<p>Good news! You're eligible for a <strong>free procedure</strong> at any of our facilities. Select a location to book your appointment.</p>":"<p>Good news! You're eligible for a <strong>$20 procedure</strong> at any of our facilities. Select a location to book your appointment. Make sure to continue to the payment screen after you book.</p>"},F=function(e){if(!e||0===e.length)return"";var t="";if(t+="<ul>",1===e.length&&(t+='<li><a href="'+e[0].link+'">Book Now at '+e[0].address.split(",")[0]+"</a></li>"),3===e.length)for(var r=0;r<e.length;r++)t+='<li><a href="'+e[r].link+'">'+e[r].address+"</a></li>";return t+="</ul>"},N=function(){var i=k(),a=t.indexOf(i.zipCode)>-1,o=r.indexOf(i.zipCode)>-1,n=b(i,a,o),u=C(n,i.isPublicAssistance,a,o),l=w(u,n),s=F(u);return!!y()&&(e("#spayNeuterFormResults").html(l+s),e("#spayNeuterFormResults").removeClass("hidden"),e("html, body").animate({scrollTop:e("#spayNeuterFormResults").offset().top},1e3),!0)};return{calculate:N}}(jQuery),$(function(){$("#spayNeuterForm, #spayNeuterForm input").on("keyup keypress",function(e){var t=e.keyCode||e.which;if(13===t)return e.preventDefault(),!1}),$("#spayNeuterFormButton").on("click",function(e){return baltimoreCounty.pageSpecific.spayNeuterCalculator.calculate(),!1})});