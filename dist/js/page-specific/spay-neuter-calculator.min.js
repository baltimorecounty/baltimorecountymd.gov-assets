namespacer("baltimoreCounty.pageSpecific"),baltimoreCounty.pageSpecific.spayNeuterCalculator=function(e){"use strict";var t=["21219","21220","21221","21222","21224","21237"],r=["21207","21227","21244"],i={baldwin:{address:"Baldwin, 13800 Manor Road",link:"https://clinichq.org/online/564cf872-6f61-476f-8ecd-61d574a8a06f"},dundalk:{address:"Dundalk, 7702 Dunmanway",link:"https://clinichq.org/online/144afb8f-6c15-4f15-8e16-9417a4f85823"},swap:{address:"Southwest Area Park, 3941 Klunk Drive",link:"https://clinichq.org/online/3edba5a4-9922-4e2a-87a5-c138c8e8f4a8"}},a=e("#spayNeuterForm"),o=e("#spayNeuterForm input[name=isBaltimoreCountyResident]"),n=e("#spayNeuterForm input[name=isPublicAssistance]"),l=e("#spayNeuterForm input[name=isCatPitBull]"),u=e("#spayNeuterForm #zipCode"),s=!1,d=!1,c=!1,f="",p=/^\d{5}$/,y=function(){var e=!1;return baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(o)||(k(o),e=!0),baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(n)||(k(n),e=!0),baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(l)||(k(l),e=!0),baltimoreCounty.utility.formValidator.requiredFieldPatternValidator(u,p)||(k(u),e=!0),!e},m=function(t){for(var r=t.find("input"),i=0;i<r.length;i++){var a=e(r[i]),o=a.attr("type");switch(o){case"radio":a.on("click",g);break;case"text":a.on("keyup",v)}}},g=function(t){var r=e(t.target);baltimoreCounty.utility.formValidator.requiredFieldRadioValidator(r)?h(r):k(r)},v=function(t){var r=e(t.target);baltimoreCounty.utility.formValidator.requiredFieldPatternValidator(r,p)?h(r):k(r)},h=function(e){e.closest("div").find(".required-field-error-message").remove()},k=function(e){var t=e.closest("div"),r=e.attr("data-validation-message");0===t.find(".required-field-error-message").length&&t.append('<div class="required-field-error-message">'+r+"</div>")},b=function(){var e={isResident:o.length?"true"==C(o):s,isPublicAssistance:n.length?"true"==C(n):d,isCatPitBull:l.length?"true"==C(l):c,zipCode:u.length?u.val():f};return m(a),e},C=function(e){if(0!==e.length){var t=e.filter(":checked");return t.length>0?t.val():void 0}},w=function(e,t,r){if(e){var i;return e.isResident&&(i=20,i=e.isPublicAssistance?e.isCatPitBull||t||r?0:20:t||r?0:20),i}},F=function(e,t,r,a){var o=[];return"undefined"==typeof e?o:r?(o.push(i.dundalk),o):a?(o.push(i.swap),o):20===e||0===e&&t?(o.push(i.baldwin),o.push(i.dundalk),o.push(i.swap),o):o},N=function(e,t){return"undefined"==typeof t?'<div class="alert-warning"><p>We\'re sorry. Only County residents are eligible for discount spay or neuter procedures.</p></div>':1===e.length&&e[0]===i.dundalk?'<div class="alert-success"><p>Good news! You\'re eligible for a <strong>free procedure</strong> at our Dundalk facility at 7702 Dunmanway.</p></div>':1===e.length&&e[0]===i.swap?'<div class="alert-success"><p>Good news! You\'re eligible for a <strong>free procedure</strong> at our Southwest Area Park facility at 3941 Klunk Drive.</p></div>':0===t?'<div class="alert-success"><p>Good news! You\'re eligible for a <strong>free procedure</strong> at any of our facilities. Select a location to book your appointment.</p></div>':'<div class="alert-success"><p>Good news! You\'re eligible for a <strong>$20 procedure</strong> at any of our facilities. Select a location to book your appointment. Make sure to continue to the payment screen after you book.</p></div>'},q=function(e){if(!e||0===e.length)return"";var t="";if(t+="<ul>",1===e.length&&(t+='<li><a href="'+e[0].link+'">Book Now at '+e[0].address.split(",")[0]+"</a></li>"),3===e.length)for(var r=0;r<e.length;r++)t+='<li><a href="'+e[r].link+'">'+e[r].address+"</a></li>";return t+="</ul>"},V=function(){var i=b(),a=t.indexOf(i.zipCode)>-1,o=r.indexOf(i.zipCode)>-1,n=w(i,a,o),l=F(n,i.isPublicAssistance,a,o),u=N(l,n),s=q(l);return!!y()&&(e("#spayNeuterFormResults").html(u+s),e("#spayNeuterFormResults").removeClass("hidden"),e("html, body").animate({scrollTop:e("#spayNeuterFormResults").offset().top},1e3),!0)};return{calculate:V}}(jQuery),$(function(){$("#spayNeuterForm, #spayNeuterForm input").on("keyup keypress",function(e){var t=e.keyCode||e.which;if(13===t)return e.preventDefault(),!1}),$("#spayNeuterFormButton").on("click",function(e){return baltimoreCounty.pageSpecific.spayNeuterCalculator.calculate(),!1})});