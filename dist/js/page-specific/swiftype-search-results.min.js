namespacer("baltimoreCounty.pageSpecific"),baltimoreCounty.pageSpecific.swiftypeSearchResults=function(e,t,r,n){function i(e){var t=e.trim(),r=[];"+"===t[t.length-1]&&(t=t.slice(0,-1));for(var n=t.split("+"),i=0,a=n.length;i<a;i+=1){var o=decodeURIComponent(n[i]);o=o.replace(/[?#\\\/]/g," ").replace(/&/g,"and").trim();var u=encodeURIComponent(o);r.push(u)}return r.join("%20")}function a(t,r){var a=r||1,o=i(t),u=n.keywordSearch.urls.api+o+"/"+a;e.ajax(u).then(d,c)}function o(t,r,a){var o=i(t),s=n.keywordSearch.urls.trackClickThrough+o+"/"+r;e.ajax({type:"POST",url:s}).then(function(){u(a)},c)}function u(e){window.location=e}function c(e){console.error(e)}function s(e){return{highlight:e.highlight.body||e.highlight.sections||e.highlight.title,title:e.title,url:e.url,id:e.id}}function l(e){for(var t=[],r=0,n=e.length;r<n;r+=1)t.push(s(e[r]));return t}function p(e,t){for(var r=[],n=1;n<=e;n+=1)r.push({page:n,current:n===t});return r}function g(e){return e.current_page*e.per_page<e.total_result_count?e.current_page*e.per_page:e.total_result_count}function h(e){return(e.current_page-1)*e.per_page+1}function f(t){var n=e(v).html();return r.compile(n)(t)}function d(e){var t=e.info.page,r=e.records.page,n=t.query,i=t.num_pages>10,a=i?10:t.num_pages,o=g(t),u=h(t),c=t.spelling_suggestion?t.spelling_suggestion.text:void 0,s=l(r),d=p(a,t.current_page);t.base_url=window.location.pathname+"?q="+t.query+"&page=",t.index={first:u,last:o};var y={searchResult:s,info:t,pageLinks:d,tooManyResults:i,spellingSuggestion:c,query:n},m=f(y);_.html(m),_.find(".loading").hide(),_.find(".search-results-display").show()}function y(){var r=t.getAsDictionary();_=e(".search-results"),r.q?a(r.q,r.page):_.html(w)}function m(t){var r=e(t.currentTarget);o(window.location.search.replace("?q=",""),r.attr("data-id"),r.attr("href"))}var _,v="#swiftype-search-results-template",w="<p>There were no results found for this search.</p>";return{init:y,trackClickThrough:m}}(jQuery,baltimoreCounty.utility.querystringer,Handlebars,baltimoreCounty.constants),$(function(){$(document).on("click",".search-results-display a",baltimoreCounty.pageSpecific.swiftypeSearchResults.trackClickThrough),baltimoreCounty.pageSpecific.swiftypeSearchResults.init()});